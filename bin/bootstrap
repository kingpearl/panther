#!/usr/bin/env bash
##
# Pearl Bootstrap
# Copyright(c) 2012 King Pearl LLC
##
mkdir -p /var/tmp && cd /var/tmp

# Set preferences
PKG=preferences
if [ ! -f .installed-$PKG ];
then
echo "Set preferences"
touch .installed-$PKG && ~/.macOS
fi

# Set permissions
PKG=permissions
if [ ! -f .installed-$PKG ];
then
echo "Set $PKG"
chmod 700 ~/.ssh
chmod 600 ~/.ssh/*
touch .installed-$PKG
fi

# Create workspace
PKG=workspace
if [ ! -f .installed-$PKG ];
then
echo "Create $PKG"
mkdir -p ~/.vim/{backups,bundle,swaps,undo}
mkdir -p ~/{Machines,Projects}
touch .installed-$PKG
fi

# Packages

PKG=command_line_tools_for_os_x_for_xcode
if [ ! -f .installed-$PKG ];
then
echo "Install Command Line Tools"
xcode-select --install && touch .installed-$PKG
fi

PKG=homebrew
if [ ! -f .installed-$PKG ];
then
echo "Install Homebrew"
ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)" && touch .installed-$PKG
fi

PKG=cask
if [ ! -f .installed-$PKG ];
then
echo "Brew tap Cask"
brew tap caskroom/$PKG && touch .installed-$PKG
fi

PKG=drivers
if [ ! -f .installed-$PKG ];
then
echo "Brew tap Drivers"
brew tap caskroom/$PKG && touch .installed-$PKG
fi

PKG=versions
if [ ! -f .installed-$PKG ];
then
echo "Brew tap Versions"
brew tap caskroom/$PKG && touch .installed-$PKG
fi

echo "Apple Software Update"
sudo softwareupdate -i -a

# PKG=fonts
# if [ ! -f .installed-$PKG ];
# then
# echo "Brew tap Fonts"
# brew tap caskroom/$PKG && touch .installed-$PKG
# fi

# PKG=bose-updater
# if [ ! -d /usr/local/Homebrew/Caskroom/$PKG ];
# then
# echo "Brew install Bose Updater"
# brew cask install $PKG
# fi

# PKG=razer-synapse
# if [ ! -d /usr/local/Homebrew/Caskroom/$PKG ];
# then
# echo "Brew install Razer Synapse"
# brew cask install $PKG
# fi

# PKG=zsa-wally
# if [ ! -d /usr/local/Homebrew/Caskroom/$PKG ];
# then
# echo "Brew install Wally"
# brew cask install $PKG
# fi


# PKG=sf-mono-font
# if [ ! -f .installed-$PKG ];
# then
# echo "Install SF Mono Font"
# open /Applications/Utilities/Terminal.app/Contents/Resources/Fonts/ && touch .installed-$PKG
# fi

# pkg=p7zip
# if [ ! -d /usr/local/cellar/$pkg ];
# then
# echo "brew install 7z"
# brew install $pkg
# fi

pkg=htop
if [ ! -d /usr/local/cellar/$pkg ];
then
echo "brew install htop"
brew install $pkg
fi

pkg=mutt
if [ ! -d /usr/local/cellar/$pkg ];
then
echo "brew install Mutt"
brew install $pkg
fi

pkg=lynx
if [ ! -d /usr/local/cellar/$pkg ];
then
echo "brew install Lynx"
brew install $pkg
fi

pkg=newsboat
if [ ! -d /usr/local/cellar/$pkg ];
then
echo "brew install Newsboat"
brew install $pkg
fi

# pkg=openvpn
# if [ ! -d /usr/local/cellar/$pkg ];
# then
# echo "brew install OpenVPN"
# brew install $pkg
# fi

# pkg=openconnect
# if [ ! -d /usr/local/cellar/$pkg ];
# then
# echo "brew install OpenConnect"
# brew install $pkg
# fi

# pkg=stoken
# if [ ! -d /usr/local/cellar/$pkg ];
# then
# echo "brew install stoken"
# brew install $pkg
# fi

PKG=aspell
if [ ! -d /usr/local/Cellar/$PKG ];
then
echo "Brew install Aspell"
brew install $PKG
fi

PKG=the_silver_searcher
if [ ! -d /usr/local/Cellar/$PKG ];
then
echo "Brew install The Silver Searcher"
brew install $PKG
fi

# PKG=git-extras
# if [ ! -d /usr/local/Cellar/$PKG ];
# then
# echo "Brew install Git Extras"
# brew install $PKG
# fi

PKG=git-flow
if [ ! -d /usr/local/Cellar/$PKG ];
then
echo "Brew install Git Flow"
brew install $PKG
fi

# PKG=java
# if [ ! -d /usr/local/Homebrew/Caskroom/$PKG ];
# then
# echo "Brew install Java"
# brew cask install $PKG
# fi

PKG=node
if [ ! -d /usr/local/Cellar/$PKG ];
then
echo "Brew install Node"
brew install $PKG
fi

# echo "Update NPM"
npm install -g npm

PKG=js-beautify
if [ ! -f .installed-$PKG ];
then
echo "NPM install JS Beautify"
npm install -g $PKG && touch .installed-$PKG
fi

PKG=tern
if [ ! -f .installed-$PKG ];
then
echo "NPM install Tern"
npm install -g $PKG && touch .installed-$PKG
fi

# PKG=create-react-app
# if [ ! -f .installed-$PKG ];
# then
# echo "NPM install Create React App"
# npm install -g $PKG && touch .installed-$PKG
# fi

# PKG=create-react-native-app
# if [ ! -f .installed-$PKG ];
# then
# echo "NPM install Create React Native App"
# npm install -g $PKG && touch .installed-$PKG
# fi

# PKG=react-native-cli
# if [ ! -f .installed-$PKG ];
# then
# echo "NPM install React Native CLI"
# npm install -g $PKG && touch .installed-$PKG
# fi

# PKG=react-vr-cli
# if [ ! -f .installed-$PKG ];
# then
# echo "NPM install React VR CLI"
# npm install -g $PKG && touch .installed-$PKG
# fi

# PKG=cordova
# if [ ! -f .installed-$PKG ];
# then
# echo "NPM install Cordova"
# npm install -g $PKG && touch .installed-$PKG
# npm install -g ios-sim ios-deploy
# fi

# PKG=ionic
# if [ ! -f .installed-$PKG ];
# then
# echo "NPM install Ionic"
# npm install -g $PKG && touch .installed-$PKG
# fi

# PKG=now
# if [ ! -f .installed-$PKG ];
# then
# echo "NPM install Now"
# npm install -g $PKG && touch .installed-$PKG
# fi

# PKG=tessel
# if [ ! -f .installed-$PKG ];
# then
# echo "NPM install Tessel"
# npm install -g $PKG && touch .installed-$PKG
# fi

# PKG=particle-cli
# if [ ! -f .installed-$PKG ];
# then
# echo "NPM install Particle"
# npm install -g $PKG && touch .installed-$PKG
# fi

# PKG=osx-cross_avr
# if [ ! -f .installed-$PKG ];
# then
# echo "Brew tap AVR"
# brew tap osx-cross/avr && touch .installed-$PKG
# fi
# PKG=PX4_homebrew-px4
# if [ ! -f .installed-$PKG ];
# then
# echo "Brew tap PX4"
# brew tap PX4/homebrew-px4 && touch .installed-$PKG
# fi
# PKG=dfu-programmer
# if [ ! -f .installed-$PKG ];
# then
# echo "Brew Install DFU Programmer"
# brew install avr-gcc
# brew install $PKG
# brew install gcc-arm-none-eabi
# brew install avrdude
# fi

PKG=google-featured-photos
if [ ! -d /usr/local/Homebrew/Caskroom/$PKG ];
then
echo "Brew Install Google Featured Photos"
brew cask install $PKG
fi

PKG=spectacle
if [ ! -d /usr/local/Homebrew/Caskroom/$PKG ];
then
echo "Brew install Spectacle"
brew cask install $PKG
fi

PKG=1password
if [ ! -d /usr/local/Homebrew/Caskroom/$PKG ];
then
echo "Brew install 1Password"
brew cask install $PKG
fi

PKG=slack
if [ ! -d /usr/local/Homebrew/Caskroom/$PKG ];
then
echo "Brew install Slack"
brew cask install $PKG
fi

# PKG=microsoft-teams
# if [ ! -d /usr/local/Homebrew/Caskroom/$PKG ];
# then
# echo "Brew install Microsoft Teams"
# brew cask install $PKG
# fi

# PKG=skype
# if [ ! -d /usr/local/Homebrew/Caskroom/$PKG ];
# then
# echo "Brew install Skype"
# brew cask install $PKG
# fi

# PKG=zoomus
# if [ ! -d /usr/local/Homebrew/Caskroom/$PKG ];
# then
# echo "Brew install Zoom"
# brew cask install $PKG
# fi

# PKG=transmit
# if [ ! -d /usr/local/Homebrew/Caskroom/$PKG ];
# then
# echo "Brew Install Transmit"
# brew cask install $PKG
# fi

# PKG=unison
# if [ ! -d /usr/local/Homebrew/Caskroom/$PKG ];
# then
# echo "Brew Install Unison"
# brew cask install $PKG
# fi

# PKG=battle-net
# if [ ! -d /usr/local/Homebrew/Caskroom/$PKG ];
# then
# echo "Brew install Battle.net"
# brew cask install $PKG
# fi

# PKG=steam
# if [ ! -d /usr/local/Homebrew/Caskroom/$PKG ];
# then
# echo "Brew install Steam"
# brew cask install $PKG
# fi

# PKG=openemu
# if [ ! -d /usr/local/Homebrew/Caskroom/$PKG ];
# then
# echo "Brew install OpenEmu"
# brew cask install $PKG
# fi

# PKG=apple-configurator
# if [ ! -f .installed-$PKG ];
# then
# echo "Install Apple Configurator" && touch .installed-$PKG
# fi
# PKG=apple-remote-desktop
# if [ ! -f .installed-$PKG ];
# then
# echo "Install Apple Remote Desktop" && touch .installed-$PKG
# fi
# PKG=apple-iworks
# if [ ! -f .installed-$PKG ];
# then
# echo "Install Apple iWorks" && touch .installed-$PKG
# fi
# PKG=apple-ibooks-author
# if [ ! -f .installed-$PKG ];
# then
# echo "Install Apple iBooks Author" && touch .installed-$PKG
# fi
# fi
# PKG=linkinus
# if [ ! -f .installed-$PKG ];
# then
# echo "Install Linkinus" && touch .installed-$PKG
# fi
# PKG=writer-pro
# if [ ! -f .installed-$PKG ];
# then
# echo "Install Writer Pro" && touch .installed-$PKG
# fi
# PKG=pocket
# if [ ! -f .installed-$PKG ];
# then
# echo "Install Pocket" && touch .installed-$PKG
# fi
# PKG=twitter
# if [ ! -f .installed-$PKG ];
# then
# echo "Install Twitter" && touch .installed-$PKG
# fi
# open -a /Applications/App\ Store.app && touch .installed-$PKG
# PKG=affinity-photo
# if [ ! -f .installed-$PKG ];
# then
# echo "Install Affinity Photo" && touch .installed-$PKG
# fi
# PKG=affinity-designer
# if [ ! -f .installed-$PKG ];
# then
# echo "Install Affinity Designer" && touch .installed-$PKG
# fi

# PKG=omnigraffle
# if [ ! -d /usr/local/Homebrew/Caskroom/$PKG ];
# then
# echo "Brew Install Omni Graffle"
# brew cask install $PKG
# fi

# PKG=pixlr
# if [ ! -d /usr/local/Homebrew/Caskroom/$PKG ];
# then
# echo "Brew Install Pixlr"
# brew cask install $PKG
# fi

# PKG=sketch
# if [ ! -d /usr/local/Homebrew/Caskroom/$PKG ];
# then
# echo "Brew Install Sketch"
# brew cask install $PKG
# fi

# PKG=sketchbook
# if [ ! -f .installed-$PKG ];
# then
# echo "Brew install SketchBook"
# brew cask install $PKG
# fi

# PKG=microsoft-office
# if [ ! -d /usr/local/Homebrew/Caskroom/$PKG ];
# then
# echo "Brew install Microsoft Office"
# brew cask install $PKG
# fi

# PKG=adobe-dng-converter
# if [ ! -d /usr/local/Homebrew/Caskroom/$PKG ];
# then
# echo "Brew install Adobe DNG Converter"
# brew cask install $PKG
# fi

# PKG=spotify
# if [ ! -d /usr/local/Cellar/$PKG ];
# then
# echo "Brew install Spotify"
# brew cask install $PKG.rb
# fi

# PKG=firefox
# if [ ! -d /usr/local/Homebrew/Caskroom/$PKG ];
# then
# echo "Brew install Firefox"
# brew cask install $PKG
# fi
# PKG=firefoxdeveloperedition
# if [ ! -d /usr/local/Cellar/$PKG ];
# then
# echo "Brew install Firefox Developer Edition"
# brew cask install $PKG
# fi

PKG=google-chrome
if [ ! -d /usr/local/Homebrew/Caskroom/$PKG ];
then
echo "Brew install Google Chrome"
brew cask install $PKG
fi
# PKG=google-chrome-canary
# if [ ! -d /usr/local/Cellar/$PKG ];
# then
# echo "Brew install Google Chrome Canary"
# brew cask install $PKG
# fi

# PKG=watchman
# if [ ! -d /usr/local/Cellar/$PKG ];
# then
# echo "Brew install Watchman"
# brew install $PKG
# fi

PKG=docker
if [ ! -d /usr/local/Homebrew/Caskroom/$PKG ];
then
echo "Brew install Docker"
brew cask install $PKG
fi

# PKG=virtualbox
# if [ ! -d /usr/local/Homebrew/Caskroom/$PKG ];
# then
# echo "Brew install Virtualbox"
# brew cask install $PKG
# fi

# PKG=virtualbox-extension-pack
# if [ ! -d /usr/local/Homebrew/Caskroom/$PKG ];
# then
# echo "Brew install Virtualbox Extension Pack"
# brew cask install $PKG
# fi

# PKG=vagrant
# if [ ! -d /usr/local/Homebrew/Caskroom/$PKG ];
# then
# echo "Brew install Vagrant"
# brew cask install $PKG
# fi

PKG=terraform
if [ ! -d /usr/local/Cellar/$PKG ];
then
echo "Brew install Terraform"
brew install $PKG
fi

# PKG=up
# if [ ! -f .installed-$PKG ];
# then
# echo "Install Apex"
# curl https://raw.githubusercontent.com/apex/up/master/install.sh | bash
# touch .installed-$PKG
# fi

# PKG=xcode
# if [ ! -d /usr/local/Cellar/$PKG ];
# then
# echo "Install Xcode" && touch .installed-$PKG
# fi

# PKG=android-studio
# if [ ! -d /usr/local/Homebrew/Caskroom/$PKG ];
# then
# echo "Brew install Android Studio"
# brew cask install $PKG
# fi

PKG=vundle
if [ ! -f .installed-$PKG ];
then
echo "Brew install Vundle"
git clone https://github.com/VundleVim/Vundle.vim.git ~/.vim/bundle/Vundle.vim
vim +PluginInstall +qall
echo "colorscheme base16-spacemacs" >> ~/.vimrc
touch .installed-$PKG
fi

# PKG=emacs-plus
# if [ ! -d /usr/local/Cellar/$PKG ];
# then
# echo "Brew install Emacs Plus"
# brew tap d12frosted/$PKG
# brew install $PKG
# fi

# PKG=spacemacs
# if [ ! -f .installed-$PKG ];
# then
# echo "Install Spacemacs"
# git clone https://github.com/syl20bnr/$PKG ~/.emacs.d
# touch .installed-$PKG
# fi

PKG=visual-studio-code
if [ ! -d /usr/local/Homebrew/Caskroom/$PKG ];
then
echo "Brew install Visual Studio Code"
brew cask install $PKG
fi

# PKG=visual-studio
# if [ ! -d /usr/local/Homebrew/Caskroom/$PKG ];
# then
# echo "Brew install Visual Studio"
# brew cask install $PKG
# fi

# PKG=xamarin-ios
# if [ ! -d /usr/local/Homebrew/Caskroom/$PKG ];
# then
# echo "Brew install Xamarin iOS"
# brew cask install $PKG
# fi

# PKG=xamarin-android
# if [ ! -d /usr/local/Homebrew/Caskroom/$PKG ];
# then
# echo "Brew install Xamarin Android"
# brew cask install $PKG
# fi


# PKG=postman
# if [ ! -d /usr/local/Homebrew/Caskroom/$PKG ];
# then
# echo "Brew install Postman"
# brew cask install $PKG
# fi

# PKG=sencha
# if [ ! -d /usr/local/Homebrew/Caskroom/$PKG ];
# then
# echo "Brew install Sencha CMD"
# brew cask install $PKG
# fi

# PKG=fork
# if [ ! -d /usr/local/Homebrew/Caskroom/$PKG ];
# then
# echo "Brew install Fork"
# brew cask install $PKG
# fi

# PKG=mongodb-compass
# if [ ! -d /usr/local/Homebrew/Caskroom/$PKG ];
# then
# echo "Brew install MongoDB Compass"
# brew cask install $PKG
# fi

# PKG=medis
# if [ ! -d /usr/local/Homebrew/Caskroom/$PKG ];
# then
# echo "Brew install Medis"
# brew cask install $PKG
# fi

# PKG=datagrip
# if [ ! -d /usr/local/Homebrew/Caskroom/$PKG ];
# then
# echo "Brew install DataGrip"
# brew cask install $PKG
# fi
